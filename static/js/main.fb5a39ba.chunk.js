(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(16)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(2),s=r(4),c=r(3),i=r(5),o=r(0),l=r.n(o),u=r(7),d=r.n(u),h=(r(13),r(14),r(15),function(e){var t=e.onClick,r=e.link,a=e.text,n=e.color;return l.a.createElement("div",{className:"btn-wrap"},l.a.createElement("a",{onClick:t,href:r,className:"btn btn-"+n+" btn-animated"},a))}),m=function(e){var t=e.startGame;return l.a.createElement("div",{className:"menu"},l.a.createElement(h,{onClick:t,link:"#",text:"Play",color:"green"}))},f=function(e){var t=e.className,r=e.color;return l.a.createElement("div",{className:"".concat(t+("none"!==r?" bg-"+r+"-600":""))})},v={O:"yellow",T:"red",T1:"red",T2:"red",T3:"red",L:"blue",L1:"blue",L2:"blue",L3:"blue",Lr:"blue",Lr1:"blue",Lr2:"blue",Lr3:"blue",Z:"green",Z1:"green",Zr:"green",Zr1:"green",I:"teal",I1:"teal"},p={0:"O",1:"T",2:"L",3:"Lr",4:"Z",5:"Zr",6:"I"},b=function(){return p[Math.floor(7*Math.random())]},y=function(e,t){var r=e[0],a=e[1];switch(t){case"O":return[[r,a],[r+1,a],[r,a+1],[r+1,a+1]];case"T":return[[r,a],[r+1,a],[r+1,a-1],[r+1,a+1]];case"T1":return[[r,a],[r+1,a],[r+2,a],[r+1,a+1]];case"T2":return[[r,a],[r,a+1],[r,a-1],[r+1,a]];case"T3":return[[r,a],[r+1,a],[r+2,a],[r+1,a-1]];case"L":return[[r,a],[r+1,a],[r+2,a],[r+2,a+1]];case"L1":return[[r,a],[r,a+1],[r,a-1],[r+1,a-1]];case"L2":return[[r,a],[r,a+1],[r+1,a+1],[r+2,a+1]];case"L3":return[[r,a+1],[r+1,a+1],[r+1,a],[r+1,a-1]];case"Lr":return[[r,a],[r+1,a],[r+2,a],[r+2,a-1]];case"Lr1":return[[r+1,a],[r+1,a+1],[r+1,a-1],[r,a-1]];case"Lr2":return[[r,a],[r,a+1],[r+1,a],[r+2,a]];case"Lr3":return[[r,a],[r,a+1],[r,a-1],[r+1,a+1]];case"Z":return[[r,a],[r,a-1],[r+1,a],[r+1,a+1]];case"Z1":return[[r,a+1],[r+1,a],[r+2,a],[r+1,a+1]];case"Zr":return[[r,a],[r,a+1],[r+1,a],[r+1,a-1]];case"Zr1":return[[r,a],[r+1,a],[r+1,a+1],[r+2,a+1]];case"I":return[[r,a],[r+1,a],[r+2,a],[r+3,a]];case"I1":return[[r,a],[r,a-1],[r,a+1],[r,a+2]];default:return null}},w=function(e,t,r,a,n){return!y(e,t).map(function(e){return e[0]>=0&&e[0]<r&&e[1]>=0&&e[1]<a&&"none"===n[e[0]][e[1]]}).includes(!1)},E=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).rows=18,r.cols=12,r.itvlId=0,r.paused=!0,r.speed=250,r.state={currentPos:[-1,-1],type:null,board:Array(r.rows).fill(Array(r.cols).fill("none"))},r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"startGame",value:function(){var e=this;this.setState({currentPos:[0,5],type:b(),board:Array(this.rows).fill(Array(this.cols).fill("none"))}),this.props.newGameHandler(),this.paused=!1,this.itvlId=setInterval(function(){return e.dropDown()},this.speed)}},{key:"finalBoard",value:function(){var e=this;if(null===this.state.type)return this.state.board;var t=this.state.board.map(function(e){return e.slice()});return y(this.state.currentPos,this.state.type).map(function(r){return t[r[0]][r[1]]=v[e.state.type]}),t}},{key:"inputHandler",value:function(e){var t=this,r=this.state.type,a=this.state.currentPos;switch(e.keyCode){case 37:if(this.paused||this.props.ended)return;return void(w([a[0],a[1]-1],r,this.rows,this.cols,this.state.board)&&this.setState({currentPos:[a[0],a[1]-1]}));case 38:if(this.paused||this.props.ended)return;var n=function(e){switch(e){case"O":return"O";case"T":return"T1";case"T1":return"T2";case"T2":return"T3";case"T3":return"T";case"L":return"L1";case"L1":return"L2";case"L2":return"L3";case"L3":return"L";case"Lr":return"Lr1";case"Lr1":return"Lr2";case"Lr2":return"Lr3";case"Lr3":return"Lr";case"Z":return"Z1";case"Z1":return"Z";case"Zr":return"Zr1";case"Zr1":return"Zr";case"I":return"I1";case"I1":return"I";default:return null}}(r);return void(w(a,n,this.rows,this.cols,this.state.board)&&this.setState({type:n}));case 39:if(this.paused||this.props.ended)return;return void(w([a[0],a[1]+1],r,this.rows,this.cols,this.state.board)&&this.setState({currentPos:[a[0],a[1]+1]}));case 40:break;case 32:if(this.props.ended)return this.startGame();this.paused?this.itvlId=setInterval(function(){return t.dropDown()},this.speed):clearInterval(this.itvlId),this.paused=!this.paused}}},{key:"dropDown",value:function(){var e=this,t=this.state.currentPos,r=this.state.type;if(w([t[0]+1,t[1]],r,this.rows,this.cols,this.state.board))this.setState({currentPos:[t[0]+1,t[1]]});else{var a=this.finalBoard(),n=[],s=a.reduce(function(t,r){var a=r.filter(function(e){return"none"!==e}).length;if(0!==a&&a!==e.cols)n.push(r);else if(n.unshift(Array(e.cols).fill("none")),a===e.cols)return t+1;return t},0);0!==s&&this.props.clearedLines(s);var c=b();if(!w([0,5],c,this.rows,this.cols,n))return this.props.endGameHandler(),clearInterval(this.itvlId),void(this.ended=!0);this.setState({currentPos:[0,5],type:c,board:n})}}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",function(t){return e.inputHandler(t)},!1)}},{key:"render",value:function(){var e=this.finalBoard();return l.a.createElement("div",{className:"table col-span-2 mx-auto sm:my-auto shadow-2xl border-2 border-white border-opacity-100"},l.a.createElement("div",{className:"table-row-group"},e.map(function(e,t){return l.a.createElement("div",{className:"table-row"},e.map(function(e,r){return l.a.createElement(f,{className:"table-cell w-6 h-6 border border-white border-opacity-25",key:t.toString()+" "+r.toString(),color:e})}))})))}}]),t}(o.Component),L=function(e){var t=e.score,r=e.highscore;return l.a.createElement("div",{className:"flex sm:flex-col flex-row mt-10 sm:my-auto"},l.a.createElement("div",{className:"flex-1 text-base text-center text-white"},"SCORE"),l.a.createElement("div",{className:"flex-1 text-base text-center text-green-500 font-bold"},t),l.a.createElement("div",{className:"flex-1 text-base text-center text-white"},"HIGHSCORE"),l.a.createElement("div",{className:"flex-1 text-base text-center text-green-500 font-bold"},r))},g=function(){return l.a.createElement("div",{className:"hidden sm:block items-center justify-center text-gray-100 sm:my-10"},l.a.createElement("div",{className:"my-2"},l.a.createElement("div",{className:"font-extrabold"},"Space "),l.a.createElement("div",{className:"description"}," Start/Pause/Restart the game")),l.a.createElement("div",{className:"my-2"},l.a.createElement("div",{className:"font-extrabold"},"Up Arrow "),l.a.createElement("div",{className:"description"}," Rotate CounterClockwise")),l.a.createElement("div",{className:"my-2"},l.a.createElement("div",{className:"font-extrabold"},"Left Arrow "),l.a.createElement("div",{className:"description"}," Move Left")),l.a.createElement("div",{className:"my-2"},l.a.createElement("div",{className:"font-extrabold"},"Right Arrow "),l.a.createElement("div",{className:"description"}," Move Right")))},x=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).call(this))).state={ended:!0,highscore:0,score:0},e}return Object(i.a)(t,e),Object(n.a)(t,[{key:"addScore",value:function(e){this.setState({score:this.state.score+e})}},{key:"newGame",value:function(){this.setState({ended:!1,score:0})}},{key:"endGame",value:function(){var e=this.state.score;this.setState({ended:!0,highscore:Math.max(this.state.highscore,e)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"grid h-screen"},l.a.createElement("div",{className:"m-6 sm:m-10 grid grid-cols-1 sm:grid-cols-4 my-auto bg-blue-900"},l.a.createElement(g,null),l.a.createElement(E,{ended:this.state.ended,newGameHandler:function(){return e.newGame()},endGameHandler:function(){return e.endGame()},clearedLines:function(t){return e.addScore(t)}}),l.a.createElement(L,{score:this.state.score,highscore:this.state.highscore})))}}]),t}(o.Component),N=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={playing:!0},r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"startGame",value:function(){this.setState({playing:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.state.playing?l.a.createElement(x,null):l.a.createElement(m,{startGame:function(){return e.startGame()}}))}}]),t}(o.Component);d.a.render(l.a.createElement(N,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.fb5a39ba.chunk.js.map